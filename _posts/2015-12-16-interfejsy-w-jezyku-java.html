---
layout: post
status: publish
published: true
title: Interfejsy w języku Java
author:
  display_name: Marcin Pietraszek
  login: marcin
  email: m.pietraszek@gmail.com
  url: ''
author_login: marcin
author_email: m.pietraszek@gmail.com
excerpt: "W artykule przeczytasz o interfejsach. Poznasz interfejs ze standardowej
  biblioteki Java. Dowiesz się czym r&oacute;żni się interfejs od jego implementacji.
  Przeczytasz też o tym dlaczego używanie interfejs&oacute;w uważane jest w większości
  przypadk&oacute;w za dobrą praktykę. Jak zwykle na koniec będziesz miał także proste
  zadanie do wykonania. Do kodu! :)\r\n\r\n"
wordpress_id: 186
wordpress_url: http://www.samouczekprogramisty.pl/?p=186
date: '2015-12-16 19:54:10 +0100'
date_gmt: '2015-12-16 18:54:10 +0100'
categories:
- Kurs programowania Java
tags: []
---
<p>W artykule przeczytasz o interfejsach. Poznasz interfejs ze standardowej biblioteki Java. Dowiesz się czym r&oacute;żni się interfejs od jego implementacji. Przeczytasz też o tym dlaczego używanie interfejs&oacute;w uważane jest w większości przypadk&oacute;w za dobrą praktykę. Jak zwykle na koniec będziesz miał także proste zadanie do wykonania. Do kodu! :)</p>
<p><a id="more"></a><a id="more-186"></a></p>
<p>[idea]To jest jeden z artykuł&oacute;w w ramach <a href="http:&#47;&#47;www.samouczekprogramisty.pl&#47;kurs-programowania-java&#47;">darmowego kursu programowania w Javie<&#47;a>. Proszę zapoznaj się z pozostałymi częściami, mogą one być pomocne w zrozumieniu materiału z tego artykułu.[&#47;idea]</p>
<h1>Interfejs<&#47;h1><br />
Wyobraź sobie kuchenkę mikrofalową. Kuchenka ma zestaw przycisk&oacute;w, parę pokręteł możliwe, że dodatkowy wyświetlacz. Ten zestaw to nic innego jak właśnie interfejs (ang. interface). Interfejs to&nbsp; zestaw &bdquo;mechanizm&oacute;w&rdquo; służących do interakcji, w tym przypadku z kuchenką mikrofalową.</p>
<p>Pojęcie interfejsu można także przenieść do świata programowania. M&oacute;wimy w&oacute;wczas o tak zwanym API (ang. <em>Application Programming Interface<&#47;em>).</p>
<p>Interfejs w kontekście programowania w języku Java to zestaw metod bez ich implementacji (bez kodu definiującego zachowanie metody)[1. Wyjątkiem tutaj są tak zwane metody domyślne o kt&oacute;rych przeczytasz niżej.] . Właściwa implementacja metod danego interfejsu znajduje się w klasie implementującej dany interfejs.</p>
<p>W języku Java do definiowani interfejs&oacute;w używamy słowa kluczowego <code>interface<&#47;code>. Interfejsy, podobnie jak klasy, definiujemy w osobnych plikach. Nazwa pliku musi odpowiadać nazwie interfejsu.</p>
<pre class="lang:default decode:true">public interface Clock {<br />
    long secondsElapsedSince(Date date);<br />
}<&#47;pre><br />
Powyżej mamy przykład interfejsu o nazwie <code>Clock<&#47;code>, kt&oacute;ry ma jedną metodę <code>secondsElapsedSince<&#47;code>, kt&oacute;ra przyjmuje argument typu <code>Date<&#47;code>[2. <code>java.util.Date<&#47;code> jest jednym z typ&oacute;w z bilblioteki standardowej służącym do przedstawiania czasu.] i zwraca wynik typu <code>long<&#47;code> m&oacute;wiący o liczbie sekund, kt&oacute;ra minęła od czasu przekazanego w argumencie.</p>
<p>Wszystkie metody zawarte w interfejsie zawsze są publiczne więc w tym przypadku można ominąć słowo kluczowe <code>public<&#47;code>, nie jest potrzebne.</p>
<p>Poza zwykłymi metodami w interfejsie mogą się znajdować</p>
<ul>
<li>metody domyślne,<&#47;li>
<li>metody statyczne,<&#47;li>
<li>stałe.<&#47;li><br />
<&#47;ul><br />
Więcej o metodach statycznych możesz przeczytać w <a href="http:&#47;&#47;www.samouczekprogramisty.pl&#47;pierwszy-program-w-java&#47;">artykule opisującym pierwszy program w języku Java<&#47;a>. Nie jest to dla Ciebie nic nowego. Metody domyślne i stałe wymagają dodatkowego wyjaśnienia.</p>
<h2>Metody domyślne<&#47;h2><br />
Istnieje możliwość zdefiniowania tak zwanych metod domyślnych. Metody te mogą mieć właściwą implementacje w ciele interfejsu. Metody takie poprzedzone są słowem kluczowym <code>default<&#47;code> jak w przykładzie poniżej</p>
<pre class="lang:default decode:true ">public interface MicrowaveOven {<br />
    void start();</p>
<p>    void setDuration(int durationInSeconds);</p>
<p>    boolean isFinished();</p>
<p>    void setPower(int power);</p>
<p>    default String getName() {<br />
        return "MicrovaweOwen";<br />
    }<br />
}<&#47;pre><br />
Klasy, kt&oacute;re implementują interfejs mogą nadpisać metodę domyślną.</p>
<h2>Wartości niezmienne i stałe<&#47;h2></p>
<pre class="lang:default decode:true ">int counter = 123;<&#47;pre><br />
<code>counter<&#47;code> to zmienna. Do zmiennej <code>counter<&#47;code> możemy przypisać nową wartość:</p>
<pre class="lang:default decode:true ">counter = counter + 1;<&#47;pre><br />
Wartości niezmienne w odr&oacute;żnieniu od zmiennych poprzedzamy słowem kluczowym <code>final<&#47;code>. Poniżej możesz zobaczyć przykład klasy z atrybutem, kt&oacute;rego wartości nie możemy przypisać na nowo. Atrybuty tego typu możemy inicjalizować jak w przykładzie poniżej: bezpośrednio bądź w ciele konstruktora.</p>
<pre class="lang:default decode:true">public class Calculator implements {<br />
    public final double PI = 3.14;<br />
    public final double SQRT_2;</p>
<p>    public Calculator() {<br />
        SQRT_2 = Math.sqrt(2);<br />
    }<br />
}<&#47;pre><br />
Wartości niezmienne, podobnie jak metody, mogą być przypisane do instancji bądź klasy. Jeśli taka wartość przypisana jest do klasy m&oacute;wimy w&oacute;wczas o stałej. Jeśli chcemy aby stała była przypisana do klasy poprzedzamy ją słowem kluczowym <code>static<&#47;code>.</p>
<p>Do stałych wartość możemy przypisać wyłącznie raz - podczas inicjalizacji klasy. Zgodnie z konwencją nazewniczą stałe piszemy wielkimi literami.</p>
<pre class="lang:default decode:true ">public interface Cat {<br />
    int NUMBER_OF_PAWS = 4;<br />
}<&#47;pre><br />
W interfejsie powyżej mamy stałą, kt&oacute;ra pokazuje ile łap ma kot. Domyślnie wszystkie atrybuty interfejsu są stałymi publicznymi przypisanymi do interfejsu więc słowa kluczowe <code>public static final<&#47;code> mogą zostać pominięte.</p>
<h1>Implementacja interfejsu<&#47;h1><br />
Sam interfejs nie jest zbyt wiele warty bez jego implementacji. Poniżej możesz zobaczyć przykładową, prostą implementację.</p>
<pre class="lang:default decode:true ">public interface Clock {<br />
    long secondsElapsedSince(Date date);<br />
}</p>
<p>public class BrokenClock implements Clock {<br />
    public long secondsElapsedSince(Date date) {<br />
        return 300;<br />
    }<br />
}<&#47;pre><br />
Klasa <code>BrokenClock<&#47;code> implementuje interfejs <code>Clock<&#47;code>. Zwr&oacute;ć uwagę na słowo kluczowe <code>implements<&#47;code>. Używamy go żeby pokazać że klasa <code>BrockenClock<&#47;code> implementuje interfejs <code>Clock<&#47;code>.</p>
<p>W języku Java jedna klasa może implementować wiele interfejs&oacute;w. W takim przypadku klasa implementująca musi definiować metody wszystkich interfejs&oacute;w, kt&oacute;re implementuje [3. Oczywiście jest od tego wyjątek, o klasach abstrakcyjnych przeczytasz w innym artykule.].</p>
<h1>Dziedziczenie interfejs&oacute;w<&#47;h1><br />
Dziedziczenie to temat na osobny, obszerny artykuł. Jednak już teraz wspomnę, że interfejsy mogą dziedziczyć po innych interfejsach. Dziedziczenie oznaczane jest słowem kluczowym <code>extends<&#47;code>. Interfejs, kt&oacute;ry dziedziczy po innych interfejsach zawiera wszystkie metody z tych interfejs&oacute;w.</p>
<pre class="lang:default decode:true ">public interface Cat {<br />
    int NUMBER_OF_PAWS = 4;</p>
<p>    String getName();<br />
}</p>
<p>public interface LasagnaEater {<br />
    String getLasagnaRecipe();<br />
}</p>
<p>public interface FatCat extends Cat, LasagnaEater {<br />
    double getWeight();<br />
}<&#47;pre><br />
W przykładzie powyżej klasa implementująca interfejs <code>FatCat<&#47;code>, musi zaimplementować 3 metody:</p>
<ul>
<li><code>String getName()<&#47;code>,<&#47;li>
<li><code>String getLasagnaRecipe()<&#47;code>,<&#47;li>
<li><code>duble getWeight()<&#47;code>.<&#47;li><br />
<&#47;ul></p>
<h1>Interfejs znacznikowy<&#47;h1><br />
A czy możliwa jest sytuacja kiedy interfejs nie ma żadnej metody? Oczywiście, że tak. M&oacute;wimy w&oacute;wczas o interfejsie znacznikowym. Jak sama nazwa wskazuje służy on do oznaczenia, danej klasy. Dzięki temu możesz przekazać zestaw dodatkowych informacji. Przykładem takiego interfejsu jest <code>java.io.Serializable<&#47;code>, kt&oacute;rego używamy aby dać znać kompilatorowi, że dana klasa jest serializowalna (o serializacji przeczytasz w innym artykule).</p>
<h1>Interfejs a typ obiektu<&#47;h1><br />
Każdy obiekt w języku Java może być przypisany do zmiennej określonego typu. W najprostszym przypadku jest to jego klasa.</p>
<p>Interfejsy pozwalają na przypisane obiektu do zmiennej typu interfejsu. Wydaje się to trochę skomplikowane jednak mam nadzieję, że przykład poniżej pomoże w zrozumieniu tego tematu.</p>
<pre class="lang:default decode:true ">public class Garfield implements FatCat {<br />
    &#47;&#47; implementacja metod<br />
}<&#47;pre><br />
&nbsp;</p>
<p><a href="http:&#47;&#47;www.samouczekprogramisty.pl&#47;wp-content&#47;uploads&#47;2015&#47;12&#47;dziedziczenie.png"><img class="aligncenter size-thumbnail wp-image-187" src="http:&#47;&#47;www.samouczekprogramisty.pl&#47;wp-content&#47;uploads&#47;2015&#47;12&#47;dziedziczenie-150x150.png" alt="dziedziczenie" width="150" height="150" &#47;><&#47;a></p>
<pre class="lang:default decode:true">Garfield garfield = new Garfield();<br />
FatCat fatCat = new Garfield();<br />
Cat cat = new Garfield();<br />
LasagnaEater lasagnaEater = new Garfield();<&#47;pre><br />
Instancję klasy <code>Garfield<&#47;code> możemy przypisać zar&oacute;wno do zmiennej klasy <code>Garfield<&#47;code> jak i każdego z interfejs&oacute;w, kt&oacute;ry ta klasa implementuje (bezpośrednio lub pośrednio). Chociaż w trakcie wykonania programu każdy z obiekt&oacute;w jest tego samego typu (instancja klasy <code>Garfield<&#47;code>), to w trakcie kompilacji sprawa wygląda trochę inaczej:</p>
<ul>
<li>na obiekcie <code>garfield<&#47;code> możemy wykonać wszystkie metody udostępnione w klasie <code>Garfield<&#47;code> i interfejsach, kt&oacute;re ta klasa implementuje:
<ul>
<li><code>getWeight()<&#47;code>,<&#47;li>
<li><code>getName()<&#47;code>,<&#47;li>
<li><code>getLasagnaReceipe()<&#47;code>.<&#47;li><br />
<&#47;ul><br />
<&#47;li></p>
<li>na obiekcie <code>fatCat<&#47;code> możemy wykonać wszystkie metody udostępnione w interfejsie <code>FatCat<&#47;code> i interfejsach po kt&oacute;rych dziedziczy:
<ul>
<li><code>getWeight()<&#47;code>,<&#47;li>
<li><code>getName()<&#47;code>,<&#47;li>
<li><code>getLasagnaReceipe()<&#47;code>.<&#47;li><br />
<&#47;ul><br />
<&#47;li></p>
<li>na obiekcie <code>cat<&#47;code> możemy wykonać wyłącznie metody z interfejsu <code>Cat<&#47;code>:
<ul>
<li><code>getName()<&#47;code>.<&#47;li><br />
<&#47;ul><br />
<&#47;li></p>
<li>na obiekcie <code>lasagnaEater<&#47;code> możemy wykonać wyłącznie metody z interfejsu <code>LasagnaEater<&#47;code>:
<ul>
<li><code>getLasagnaReceipe()<&#47;code>.<&#47;li><br />
<&#47;ul><br />
<&#47;li><br />
<&#47;ul></p>
<h1>Zastosowania interfejs&oacute;w<&#47;h1><br />
Do czego właściwie potrzebne są nam interfejsy? Czy nie jest to po prostu zestaw dodatkowych linijek kodu, kt&oacute;re trzeba napisać i nic one nie wnoszą? Ot&oacute;ż nie.</p>
<p>Interfejsy w bardzo prosty spos&oacute;b ułatwiają r&oacute;żnego rodzaju integrację r&oacute;żnych fragment&oacute;w kodu. Wyobraź sobie sytuację, w kt&oacute;rej Piotrek pisze program obliczający średnią temperaturę w każdym z wojew&oacute;dztw. Wsp&oacute;łpracuje on z Kasią, kt&oacute;ra pisze program udostępniający aktualną temperaturę w danej miejscowości.</p>
<p>Aby Piotrek m&oacute;gł napisać sw&oacute;j program musi skorzystać z programu Kasi. Musi się z nim zintegrować. Taką integrację ułatwiają właśnie interfejsy.</p>
<p>Piotrek z Kasią uzgadniają, że będą używali następującego interfejsu</p>
<pre class="lang:default decode:true ">public interface Thermometer {<br />
    double getCurrentTemperatureFor(String city);<br />
}<&#47;pre><br />
Dzięki niemu Piotrek może pisać sw&oacute;j program r&oacute;wnolegle z Kasią.</p>
<p>Co więcej może się okazać, że implementacja Kasi nie jest zbyt dokładna. Ania implementuje ten sam interfejs ale temperatury przez nią zwracane są dokładniejsze. W&oacute;wczas Piotrek w og&oacute;le nie musi zmieniać swojego programu. Wystarczy, ze użyje innej implementacji interfejsu <code>Thermometer<&#47;code> dostarczonej przez Anię.</p>
<p>To właśnie jest kolejna zaleta interfejs&oacute;w. Dzięki nim możemy pisać programy, kt&oacute;re możemy w łatwiejszy spos&oacute;b modyfikować. Interfejsy jasno oddzielają komponenty programu. Dzięki takiemu podejściu komponenty można z łatwością wymieniać.</p>
<h1>Zadanie<&#47;h1><br />
Napisz dwie klasy implementujące interfejs <code>Computation<&#47;code>. Niech jedna z implementacji przeprowadza operację dodawania, druga mnożenia.</p>
<pre class="lang:default decode:true ">public interface Computation {<br />
    double compute(double argument1, double argument2);<br />
}<&#47;pre><br />
Użyj obu implementacji do uzupełnienia programu poniżej</p>
<pre class="lang:default decode:true ">public class Main {<br />
    public static void main(String[] args) {<br />
        Main main = new Main();<br />
        Computation computation;</p>
<p>        if (main.shouldMultiply()) {<br />
            computation = new Multiplication(); &#47;&#47; zaimplementuj brakującą klasę<br />
        }<br />
        else {<br />
            computation = new Addition(); &#47;&#47; zaimplementuj brakującą klasę<br />
        }</p>
<p>        double argument1 = main.getArgument();<br />
        double argument2 = main.getArgument();</p>
<p>        double result = computation.compute(argument1, argument2);<br />
        System.out.println("Wynik: " + result);<br />
    }</p>
<p>    private boolean shouldMultiply() {<br />
        return false; &#47;&#47; tutaj zapytaj użytkownika co chce zrobić (mnożenie czy dodawanie)<br />
    }</p>
<p>    private double getArgument() {<br />
        return 0; &#47;&#47; tutaj pobierz liczbę od użytkownika<br />
    }<br />
}<&#47;pre><br />
Program po uruchomieniu powinien zapytać użytkownika jaką operację chce wykonać, następnie pobrać dwa argumenty niezbędne do wykonania tej operacji. Ostatnią linijką powinien być wynik dodawania&#47;mnożenia wyświetlony użytkownikowi. Przygotowałem też dla Ciebie <a href="https:&#47;&#47;github.com&#47;SamouczekProgramisty&#47;KursJava&#47;tree&#47;master&#47;07_interfejsy&#47;src&#47;main&#47;java&#47;pl&#47;samouczekprogramisty&#47;kursjava&#47;interfaces&#47;exercise" target="_blank" rel="noopener">przykładowe rozwiązanie zadania<&#47;a>, pamiętaj jednak, że rozwiązując je samodzielnie nauczysz się najwięcej.</p>
<h1>Materiały dodatkowe<&#47;h1><br />
Oczywiście nie wyczerpaliśmy tematu mimo sporej objętości artykułu. Zachęcam do samodzielnego pogłębiania wiedzy korzystając z materiał&oacute;w dodatkowych. Specyfikacja Języka Java jest w języku angielskim.</p>
<ul>
<li><a href="https:&#47;&#47;pl.wikipedia.org&#47;wiki&#47;Interfejs_%28programowanie_obiektowe%29" target="_blank" rel="noopener">Opis interfejsu na Wikipedii<&#47;a><&#47;li>
<li><a href="https:&#47;&#47;docs.oracle.com&#47;javase&#47;specs&#47;jls&#47;se8&#47;html&#47;jls-9.html" target="_blank" rel="noopener">Rozdział w Java Language Specification dotyczący interfejs&oacute;w<&#47;a><&#47;li>
<li><a href="https:&#47;&#47;github.com&#47;SamouczekProgramisty&#47;KursJava&#47;tree&#47;master&#47;07_interfejsy&#47;src&#47;main&#47;java&#47;pl&#47;samouczekprogramisty&#47;kursjava&#47;interfaces" target="_blank" rel="noopener">Kod źr&oacute;dłowy przykład&oacute;w użytych w artykule<&#47;a><&#47;li><br />
<&#47;ul></p>
<h1>Podsumowanie<&#47;h1><br />
Dzisiaj poruszyliśmy bardzo wiele zagadnień. Dowiedziałeś się o interfejsach, przeczytałeś o ich przeznaczeniu. Poznałeś też kilka nowych sł&oacute;w kluczowych w języku Java. Wystarczająca dawka wiedzy jak na jeden dzień :)</p>
<p>Mam nadzieję, że artykuł był dla Ciebie ciekawy, jeśli cokolwiek nie było zrozumiałe bądź wymaga dokładniejszego wyjaśnienia daj znać, na pewno pomogę.</p>
<p>Jak zwykle na koniec mam do Ciebie prośbę. Proszę podziel się artykułem ze swoimi znajomymi, zależy mi na dotarciu do jak największej liczby os&oacute;b, kt&oacute;re chcą nauczyć się programowania :) Zapraszam także na <a href="https:&#47;&#47;facebook.com&#47;SamouczekProgramisty" target="_blank" rel="noopener">SamouczekProgramisty<&#47;a> na facebooku. Możesz też zapisać się do mojego newslettera.</p>
<p>Do następnego razu!</p>
<p>[FM_form id="3"]</p>
<p>Zdjęcie dzięki uprzejmości <em>FreeImages.com&#47;Piotr Lewandowski<&#47;em>.</p>
