---
layout: post
status: publish
published: true
title: Maszyna losująca
excerpt: "Artykuł ten jest pierwszym z artykułów w Strefie Zadaniowej Samouka.
  Programowania najlepiej jest się uczyć na przykładach, ten artykuł opisuje właśnie
  jeden z takich przykładów. Specyfikuje dokładnie sposób zachowania
  prostego programu i przedstawia jego przykładowe rozwiązanie. Zapraszam do lektury.\r\n\r\n"
wordpress_id: 351
wordpress_url: http://www.samouczekprogramisty.pl/?p=351
date: '2016-08-22 16:32:48 +0200'
date_gmt: '2016-08-22 14:32:48 +0200'
categories:
- Strefa zadaniowa
tags: []
---
<p>Artykuł ten jest pierwszym z artykułów w Strefie Zadaniowej Samouka. Programowania najlepiej jest się uczyć na przykładach, ten artykuł opisuje właśnie jeden z takich przykładów. Specyfikuje dokładnie sposób zachowania prostego programu i przedstawia jego przykładowe rozwiązanie. Zapraszam do lektury.</p>
<p><a id="more"></a><a id="more-351"></a></p>
<h1>Opis zadania</h1><br />
W dzisiejszej części napiszesz program, który użyłem do rozstrzygnięcia konkursu, w którym Samouczek Programisty rozdawał książki. W konkursie należało wypełnić prostą ankietę, wśród uczestników zostały rozlosowane dwie książki. Każdy, kto uzupełnił ankietę dostawał jeden los. Dodatkowo, jeśli osoba wskazała kogoś innego jako polecającego, polecający dostawał dodatkowy los w loterii.</p>
<p>Ankieta została przeprowadzona przy pomocy narzędzia Google Forms, z którego następnie wyniki zostały wyeksportowane do pliku CSV (ang. <em>comma separated values</em>). Plik CSV to jeden z formatów plików tekstowych, w którym jedna linijka odpowiada jednemu rekordowi. Plik ten zawiera kilka kolumn, których zawartość oddzielona jest przecinkami. Plik zawiera też nagłówek, opisujący nazwy kolumn.</p>
<p>W przykładzie poniżej mamy dwa rekordy z takiego pliku. Irek dostaje dwa losy, Mateusz jeden. Dzieje się tak ponieważ Irek polecił Samouczka Mateuszowi.</p>
<pre class="lang:default highlight:0 decode:true ">"Timestamp","Jak masz na imię?","Jaki jest Twój adres e-mail?","Temat artykułu","Kto polecił Ci stronę www.samouczekprogramisty.pl (podaj adres e-mail)?"<br />
"2016/08/15 7:16:38 PM GMT+2","Irek","xxx@gmail.com","Scrum lub Agile",""<br />
"2016/08/15 7:33:13 PM GMT+2","Mateusz","yyy@gmail.com","Algorytmika","xxx@gmail.com"</pre><br />
Twoim zadaniem jest napisanie programu, który pobierze od użytkownika dwa argumenty:</p>
<ul>
<li>ścieżkę do pliku wejściowego w formacie CSV na dysku opisanym powyżej (możesz ściągnąć <a href="http://www.samouczekprogramisty.pl/wp-content/uploads/2016/08/zadanie_maszyna_losujaca_input.csv">przykładowy plik</a>, który dla Ciebie przygotowałem),</li>
<li>liczbę N >= 1 przedstawiającą liczbę wygrywających.</li><br />
</ul><br />
Program powinien wczytać zawartość pliku, wyłuskać adresy email a następnie wśród tych adresów wylosować N wygranych. Dla uproszczenia zakładamy, że format pliku jest poprawny oraz, że uczestnicy konkursu nie oszukiwali (nie było podwójnych losów). Sytuacja w której jeden uczestnik wygrywa dwie książki jest dopuszczalna.</p>
<h1>Wskazówki</h1><br />
Dla uproszczenia pokażę Ci parę fragmentów kodu czy metod, które mogą Ci się przydać w rozwiązaniu tego zadania.</p>
<p>Aby podzielić rekord na poszczególne pola możesz użyć metody <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-" target="_blank"><code>String.split</code></a> jak w przykładzie poniżej</p>
<pre class="lang:default decode:true ">String[] fields = line.split(",");</pre><br />
Aby z pola otoczonego znakami <code>""</code> uzyskać wyłącznie jego zawartość możesz użyć wyrażeń regularnych. Na tym etapie proszę użyj przykładowego kodu, o tym czym są wyrażenia regularne przeczytasz w innym artykule.</p>
<pre class="lang:default decode:true ">private final static Pattern FIELD_PATTERN = Pattern.compile("^\"(.+)\"$");</p>
<p>private static String parseField(String field) {<br />
    Matcher fieldMatcher = FIELD_PATTERN.matcher(field);<br />
    if (fieldMatcher.matches()) {<br />
        return fieldMatcher.group(1);<br />
    }<br />
    return null;<br />
}</pre><br />
Metoda ta jako argument przyjmuje wartość pola i zwraca to co znajduje się wewnątrz <code>""</code> bądź <code>null</code> jeśli pole nie było uzupełnione.</p>
<p>Aby wybrać losowo X wartości musisz losowo rozłożyć adresy email z pliku. Pomóc Ci w tym może metoda <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-" target="_blank"><code>Collections.shuffle</code></a>, która w losowy sposób miesza elementy listy.</p>
<p>Z tymi narzędziami jesteś przygotowany do napisania swojej pierwszej maszyny losującej :) Jeśli będziesz miał jakiekolwiek pytania możesz zasugerować się <a href="https://github.com/SamouczekProgramisty/StrefaZadaniowaSamouka/tree/master/01_lottery_machine/src/pl/samouczekprogramisty/szs" target="_blank">przykładowym rozwiązaniem</a>, które dla Ciebie przygotowałem. Jak zwykle zachęcam jednak do samodzielnego rozwiązania zadania, w ten sposób nauczysz się najwięcej.</p>
<h1>Podsumowanie</h1><br />
Jeśli tego typu sposób nauki Ci się spodobał proszę daj znać ;) Rozwiązując zadania tego typu w praktyczny sposób przećwiczysz wiedzę, którą zdobyłeś do tej pory. Z biegiem czasu będziesz w stanie rozwiązać zadania o coraz większym poziomie trudności. Wszystko przed Tobą ;)</p>
<p>Na koniec mam do Ciebie prośbę. Zależy mi na dotarciu do jak największego grona czytelników, proszę pomóż mi w tym :) Udostępnij link do bloga na FB swoim znajomym, możesz także zapisać się do newslettera jeśli nie chcesz pominąć kolejnych artykułów. Do następnego razu!</p>
<p>[FM_form id="3"]</p>
<p>Zdjęcie dzięki uprzejmości https://www.flickr.com/photos/mikolski</p>
