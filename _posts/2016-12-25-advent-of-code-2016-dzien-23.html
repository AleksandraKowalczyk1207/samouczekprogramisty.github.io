---
layout: post
status: publish
published: true
title: Advent of Code 2016 dzień 23
author:
  display_name: Marcin Pietraszek
  login: marcin
  email: m.pietraszek@gmail.com
  url: ''
author_login: marcin
author_email: m.pietraszek@gmail.com
excerpt: "Advent of Code 2016 dzień 23. Okazuje się, że język assembunny, dla którego
  emulator potrzebny był w dniu 12 jest bardziej rozbudowany. Musisz rozszerzyć swój
  emulator o dodatkową instrukcję.\r\n\r\n"
wordpress_id: 712
wordpress_url: http://www.samouczekprogramisty.pl/?p=712
date: '2016-12-25 08:37:39 +0100'
date_gmt: '2016-12-25 07:37:39 +0100'
categories:
- Strefa zadaniowa
tags: []
comments: []
---
<p>Advent of Code 2016 dzień 23. Okazuje się, że język assembunny, dla którego emulator potrzebny był w dniu 12 jest bardziej rozbudowany. Musisz rozszerzyć swój emulator o dodatkową instrukcję.</p>
<p><a id="more"></a><a id="more-712"></a></p>
<h1>Wprowadzenie<&#47;h1><br />
[idea]Oryginalna strona z zadaniami z <a href="http:&#47;&#47;adventofcode.com&#47;2016" target="_blank">Advent of Code 2016<&#47;a>. Zadanie z artykułu dostępne jest pod adresem <a href="http:&#47;&#47;adventofcode.com&#47;2016&#47;day&#47;23" target="_blank">http:&#47;&#47;adventofcode.com&#47;2016&#47;day&#47;21<&#47;a>[&#47;idea]</p>
<p>Advent of Code to inicjatywa, w której codziennie publikowane są zadania algorytmiczne dla programistów. Ich rozwiązywanie pomaga rozwijać umiejętności nie tyko początkujących programist&oacute;w. W tej serii artykuł&oacute;w pokazuję zadanie opublikowane w ramach Advent of Code 2016 wraz z przykładowym rozwiązaniem.</p>
<p>[idea]Jeśli masz ochotę na odrobinę rywalizacji możesz dołączyć do klasyfikacji, którą założyłem na oryginalnej stronie. Aby dołączyć do tej klasyfikacji zaloguj się na <a href="http:&#47;&#47;adventofcode.com&#47;2016" target="_blank">http:&#47;&#47;adventofcode.com&#47;2016<&#47;a> i dołącz wpisując kod <code>124245-88569bd0<&#47;code>.[&#47;idea]</p>
<h1>Dzień 23 zadanie 1<&#47;h1><br />
Dzięki Twojej pomocy wczoraj udało się znaleźć odpowiednie <a href="http:&#47;&#47;www.samouczekprogramisty.pl&#47;advent-of-code-2016-dzien-22&#47;">pary maszyn w klastrze<&#47;a>. Znajdujesz się na jednym z górnych pięter najwyższego budynku w Kwaterze Głównej Kr&oacute;liczka Wielkanocnego. Prywatne biuro Kr&oacute;liczka znajduje się właśnie tutaj, wraz z sejfem ukrytym za obrazem. Kto nie schowałby cennych dokument&oacute;w w sejfie ukrytym właśnie tam?</p>
<p>Sejf ma wyświetlacz cyfrowy i klawiaturę, na której trzeba wpisać odpowiedni kod. Żółta karteczka przyczepiona do sejfu daje wskaz&oacute;wkę dotyczącą hasła: "jajka". Na obrazie z dużym kr&oacute;likiem malującym jajka, doliczyłeś się <code>7<&#47;code> jajek.</p>
<p>Kiedy próbujesz wpisać kod nic nie pojawia się na ekranie. Zamiast tego klawiatura rozpada się w Twoich rękach. Najwyraźniej została wcześniej zniszczona. Pod spodem ma swego rodzaju gniazdo, takie do którego pasuje Tw&oacute;j <a href="http:&#47;&#47;www.samouczekprogramisty.pl&#47;advent-of-code-2016-dzien-11&#47;">prototypowy komputer<&#47;a>. Rozmontowując roztrzaskaną klawiaturę wyciągasz układ logiczny ze środka, podłączasz go do swojego komputera, kt&oacute;ry następie podłączasz do sejfu.</p>
<p>Teraz musisz tylko dowiedzieć się jakie wyjście wyprodukowałaby klawiatura po naciśnięciu odpowiedniego klawisza. Wyciągasz kod assembunny z chipa (wejście do programu).</p>
<p>Kod wygląda, prawie dokładnie jak ten, który użyty był poprzednio do <a href="http:&#47;&#47;www.samouczekprogramisty.pl&#47;advent-of-code-2016-dzien-12&#47;">sterowania kolejką<&#47;a>! Powinieneś być w stanie użyć tego samego interpretera, którego użyłeś poprzednio. Wymagał on będzie jednak drobnego rozszerzenia o jedną nową instrukcję:</p>
<ul>
<li><code>tgl x<&#47;code> przełącza instrukcję znajdującą się <code>x<&#47;code> pozycji dalej, <code>x<&#47;code> wskazuje na instrukcje podobnie jak <code>jnz<&#47;code>. Dodatnia wartość oznacza instrukcję z przodu, ujemna z tyłu.<&#47;li><br />
<&#47;ul><br />
Instrukcja <code>tgl<&#47;code> działa w następujący sposób:</p>
<ul>
<li>dla jednoargumentowych instrukcji, <code>inc<&#47;code> staje się <code>dec<&#47;code>, każda inna jednoargumentowa instrukcja staje się <code>inc<&#47;code>,<&#47;li>
<li>dla dwuargumentowych instrukcji, <code>jnz<&#47;code> staje się <code>cpy<&#47;code>, każda inna dwuargumentowa instrukcja staje się <code>jnz<&#47;code>,<&#47;li>
<li>argumenty przełączanej instrukcji nie są zmieniane,<&#47;li>
<li>jeśli <code>tgl<&#47;code> próbuje przełączyć instrukcję znajdującą się poza programem, nic się nie dzieje,<&#47;li>
<li>jeśli <code>tgl<&#47;code> wyprodukuje niepoprawną instrukcje (na przykład <code>cpy 1 2<&#47;code>) i później interpreter spróbuje wywołać taką instrukcję, powinien ją ominąć,<&#47;li>
<li>jeśli <code>tgl<&#47;code> przełącza samą siebie (na przykład jeśli <code>a<&#47;code> ma wartość <code>0<&#47;code>, <code>tgl a<&#47;code> przełączy się na <code>inc a<&#47;code>), wynikowa instrukcja nie jest wywołana dopóki interpreter nie dotrze do niej po raz kolejny.<&#47;li><br />
<&#47;ul><br />
Na przykład jeśli pod uwagę weźmiesz taki program:</p>
<pre class="lang:default highlight:0 decode:true ">cpy 2 a<br />
tgl a<br />
tgl a<br />
tgl a<br />
cpy 1 a<br />
dec a<br />
dec a<&#47;pre></p>
<ol>
<li><code>cpy 2 a<&#47;code> inicjalizuje rejestr <code>a<&#47;code> wartością 2,<&#47;li>
<li>pierwsza instrukcja <code>tgl a<&#47;code> przełącza instrukcję odległą o wartość rejestru <code>a<&#47;code> (2), w wyniku czego zmienia trzecią instrukcję <code>tgl a<&#47;code> na <code>inc a<&#47;code>,<&#47;li>
<li>druga instrukcja <code>tgl a<&#47;code> także zmienia instrukcje oddaloną o 2, co zmienia <code>cpy 1 a<&#47;code> na <code>jnz 1 a<&#47;code>,<&#47;li>
<li>czwarta linia, która teraz jest <code>inc a<&#47;code> zwiększa o jeden <code>a<&#47;code> do wartości 3,<&#47;li>
<li>ostatecznie piąta linia, która jest teraz <code>jnz 1 a<&#47;code> skacze o <code>a<&#47;code> (3) instrukcji do przodu przeskakując obie instrukcje <code>dec a<&#47;code>.<&#47;li><br />
<&#47;ol><br />
W tym przykładzie ostateczna wartość rejestru <code>a<&#47;code> to 3.</p>
<p>Pozostała część układu scalonego zdaje się ustawiać wartość rejestru <code>a<&#47;code> na wejście z klawiatury (liczbę jajek z obrazu, 7), uruchamia kod i przesyła wynikową wartość rejestru <code>a<&#47;code> do sejfu.</p>
<p>Zakładając, że lista poleceń znajduje się w <a href="https:&#47;&#47;raw.githubusercontent.com&#47;SamouczekProgramisty&#47;StrefaZadaniowaSamouka&#47;master&#47;05_aoc_2016&#47;src&#47;main&#47;test&#47;resources&#47;day23_input.txt" target="_blank">tym pliku<&#47;a>, jaka wartość zostanie przesłana do sejfu?</p>
<h1>Podsumowanie<&#47;h1><br />
Zachęcam do dalszej zabawy z drugim zadaniem, jego treść pokaże się na stronie AoC2016 po rozwiązaniu pierwszego. Takie zadania pomagają w rozwijaniu umiejętności nie tylko początkujących programistów. Jeśli będziesz miał jakikolwiek problem z rozwiązaniem zadania możesz rzucić okiem do <a href="https:&#47;&#47;github.com&#47;SamouczekProgramisty&#47;StrefaZadaniowaSamouka&#47;tree&#47;master&#47;05_aoc_2016&#47;src&#47;main&#47;java&#47;pl&#47;samouczekprogramisty&#47;szs&#47;aoc2016&#47;day23" target="_blank">przykładowego rozwiązania<&#47;a>, jednak zrób to raczej w ostateczności.</p>
<p>Na koniec mam do Ciebie prośbę - podziel się linkiem do artykułu ze znajomymi, może Oni także będą chcieli pomóc Świętemu Mikołajowi ;) ? Jeśli nie chcesz ominąć kolejnych artykułów proszę zapisz się do mojego newslettera i polub stronę na facebooku. Do następnego razu!</p>
<p>[FM_form id="3"]</p>
<p>Zdjęcie dzięki uprzejmości https:&#47;&#47;www.flickr.com&#47;photos&#47;derekl&#47;sets&#47;72157649148835567</p>
