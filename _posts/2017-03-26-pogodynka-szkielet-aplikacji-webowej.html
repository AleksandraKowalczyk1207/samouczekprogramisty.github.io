---
layout: post
status: publish
published: true
title: Pogodynka - szkielet aplikacji webowej
author:
  display_name: Marcin Pietraszek
  login: marcin
  email: m.pietraszek@gmail.com
  url: ''
author_login: marcin
author_email: m.pietraszek@gmail.com
excerpt: "Kolejna informacja dotycząca postępu prac nad projektem Pogodynka. Dzisiaj
  trochę o Spring MVC i przykładowej konfiguracji, zapraszam do lektury.\r\n\r\n"
wordpress_id: 804
wordpress_url: http://www.samouczekprogramisty.pl/?p=804
date: '2017-03-26 21:00:17 +0200'
date_gmt: '2017-03-26 19:00:17 +0200'
categories:
- DSP2017
- Pogodynka
tags: []
comments: []
---
<p>Kolejna informacja dotycząca postępu prac nad projektem Pogodynka. Dzisiaj trochę o Spring MVC i przykładowej konfiguracji, zapraszam do lektury.</p>
<p><a id="more"></a><a id="more-804"></a></p>
<p>W tym tygodniu przygotowałem dla Was dość obszerny wpis dotyczący <a href="http://www.samouczekprogramisty.pl/serwlety-w-aplikacjach-webowych/">serwletów w aplikacjach Java</a>. Jego przygotowanie zajęło mi sporo czasu więc automatycznie zostało go mniej na samą Pogodynkę.</p>
<p>Jednak i tutaj udało się pchnąć sprawy do przodu. W tym momencie <a href="https://github.com/SamouczekProgramisty/Pogodynka/tree/master/datavault" target="_blank">datavault</a> jest już &ldquo;działającą&rdquo; aplikacją webową opartą o Spring MVC. Uparłem się i całą konfigurację zrobiłem bez użycia Spring Boot i plików XML. Chcę to zrobić w ten sposób, aby pokazać Wam przykład takich właśnie aplikacji.</p>
<p>W tym momencie obsługiwane są żądania typu POST i GET, które będą odpowiednio dodawały nowy wpis dotyczący temperatury i pobierały listę temperatur.</p>
<h1>Warstwa widoku</h1><br />
W pierwotnej wersji zakładałem, że napiszę osobną aplikację w Java Script, która będzie odpowiadała za generowanie widoku. Coraz bardziej się nad tym zastanawiam. Widzę pewną wartość w zrobieniu tego w &ldquo;stary&rdquo; sposób.</p>
<p>W &ldquo;stary&rdquo;, czyli z wykorzystaniem plików JSP. Dzięki temu będę miał dla Was przykład aplikacji używającej właśnie takiego podejścia do kolejnych artykułów, a artykuł o JSP na pewno powstanie.</p>
<h1>Spring MVC</h1><br />
Aktualnie aplikacja używa Spring MVC. Konfiguracja w większości używa ustawień domyślnych, które włączone są przy pomocy kilku &ldquo;springowych&rdquo; adnotacji:</p>
<ul>
<li><a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html" target="_blank"><code>@Configuration</code></a></li>
<li><a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/EnableWebMvc.html" target="_blank"><code>@EnableWebMvc</code></a></li>
<li><a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html" target="_blank"><code>@ComponentScan</code></a></li><br />
</ul><br />
Przykład ich użycia możesz zobaczyć w klasie <code>WebAppConfiguration</code>. Klasa ta jest użyta jako bazowy &ldquo;applicationContext&rdquo;, włącza obsługę Spring MVC oraz wskazuje pakiety, w których Spring szuka klas, którymi zarządza (potocznie mówi się tu o bean&rsquo;ach).</p>
<p>Kolejną istotną klasą jest <a href="https://github.com/SamouczekProgramisty/Pogodynka/blob/master/datavault/src/main/java/pl/samouczekprogramisty/pogodynka/datavault/configuration/DatavaultInitializer.java" target="_blank"><code>DatavaultInitializer</code></a>, która konfiguruje instancję <code>DispatcherServlet</code> obsługującego aplikację (o tym jak to ustrojstwo magicznie działa możesz przeczytać we wcześniej wspomnianym <a href="http://www.samouczekprogramisty.pl/serwlety-w-aplikacjach-webowych/">artykule o serwletach</a>),</p>
<p>Przygotowałem też naiwną implementację klasy odpowiedzialnej za zarządzanie temperaturami <a href="https://github.com/SamouczekProgramisty/Pogodynka/blob/master/datavault/src/main/java/pl/samouczekprogramisty/pogodynka/datavault/TemperatureServiceImpl.java" target="_blank"><code>TemperatureServiceImpl</code></a>, w obecnym kształcie nie robi ona jeszcze nic użytecznego.</p>
<h1>Podsumowanie</h1><br />
Kodu w tym tygodniu nie pojawiło się za wiele, jednak &ldquo;szkielet&rdquo; aplikacji webowej już jest i czeka na lepsze czasy ;). Jak zwykle całość kodu dostępna jest w <a href="https://github.com/SamouczekProgramisty/Pogodynka" target="_blank">repozytorium</a>. Do następnego razu!</p>
<p>[FM_form id="3"]</p>
<p>Zdjęcie dzięki uprzejmości https://www.flickr.com/photos/marksuth/8768228386/sizes/l</p>
